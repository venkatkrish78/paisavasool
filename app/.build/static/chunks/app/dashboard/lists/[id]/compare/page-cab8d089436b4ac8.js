(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[188],{5865:function(e,t,r){Promise.resolve().then(r.bind(r,190)),Promise.resolve().then(r.t.bind(r,1965,23))},190:function(e,t,r){"use strict";r.d(t,{PriceComparison:function(){return S}});var s=r(784),a=r(1960),n=r(6564),i=r(1555),l=r(9218),c=r(5861),d=r(9461),o=r(9523),m=r(4131),u=r(7518),f=r(395),x=r(5796),h=r(9026),p=r(1789),j=r(4428),g=r(9717),b=r(5518);let v=g.fC,N=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(g.aV,{ref:t,className:(0,b.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",r),...a})});N.displayName=g.aV.displayName;let y=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(g.xz,{ref:t,className:(0,b.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",r),...a})});y.displayName=g.xz.displayName;let w=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(g.VY,{ref:t,className:(0,b.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),...a})});function S(e){var t;let{listId:r}=e,[g,S]=(0,a.useState)([]),[C,O]=(0,a.useState)([]),[T,E]=(0,a.useState)(!0),{toast:I}=(0,f.pm)(),{ref:R,inView:k}=(0,l.YD)({triggerOnce:!1,threshold:.1});(0,a.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/shopping-lists/".concat(r,"/items"));if(!e.ok)throw Error("Failed to fetch items");let t=await e.json();S(t);let s=await fetch("/api/platforms");if(!s.ok)throw Error("Failed to fetch platform information");let a=await s.json();O(a)}catch(e){I({title:"Error",description:"Failed to load data. Please refresh the page.",variant:"destructive"})}finally{E(!1)}})()},[r,I]);let Z={hidden:{opacity:0,y:20},show:{opacity:1,y:0}},{platformTotals:A,platformItems:P}=(()=>{let e={},t={};return C.forEach(r=>{e[r.name]=0,t[r.name]=[]}),g.forEach(r=>{r.prices.forEach(s=>{if(s.available){let a=s.price*r.quantity;e[s.platform]+=a,t[s.platform].find(e=>e.id===r.id)||t[s.platform].push({...r,prices:[s]})}})}),C.forEach(t=>{e[t.name]>0&&e[t.name]>=t.minOrderValue&&(e[t.name]+=t.deliveryFee)}),{platformTotals:e,platformItems:t}})(),V=(null===(t=Object.entries(A).filter(e=>{let[t,r]=e;return r>0}).sort((e,t)=>{let[r,s]=e,[a,n]=t;return s-n})[0])||void 0===t?void 0:t[0])||null,_=(0,b.np)(g),D=_.totalCost;Object.keys(_.platformItems).forEach(e=>{let t=C.find(t=>t.name===e);t&&_.platformItems[e].reduce((e,t)=>e+t.bestPrice.price*t.quantity,0)>=t.minOrderValue&&(D+=t.deliveryFee)});let G=V?A[V]:0,z=G>0?G-D:0,F=G>0?Math.round(z/G*100):0;return T?(0,s.jsx)("div",{className:"flex justify-center items-center h-40",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):0===g.length?(0,s.jsx)(h.Zb,{className:"bg-muted/50",children:(0,s.jsxs)(h.aY,{className:"pt-6 text-center",children:[(0,s.jsx)("p",{className:"mb-4",children:"No items in this shopping list yet."}),(0,s.jsx)(x.z,{asChild:!0,children:(0,s.jsxs)(n.default,{href:"/dashboard/lists/".concat(r),children:[(0,s.jsx)(c.Z,{className:"mr-2 h-4 w-4"}),"Go Back to Shopping List"]})})]})}):(0,s.jsxs)(i.E.div,{ref:R,variants:{hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},initial:"hidden",animate:k?"show":"hidden",className:"space-y-8",children:[(0,s.jsx)(i.E.div,{variants:Z,children:(0,s.jsxs)(h.Zb,{className:"bg-gradient-to-br from-primary/10 to-primary/5",children:[(0,s.jsxs)(h.Ol,{children:[(0,s.jsxs)(h.ll,{className:"flex items-center text-2xl",children:[(0,s.jsx)(d.Z,{className:"mr-2 h-6 w-6 text-primary"}),"Price Comparison Summary"]}),(0,s.jsx)(h.SZ,{children:"Compare prices across platforms and find the best deals"})]}),(0,s.jsx)(h.aY,{children:(0,s.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[(0,s.jsxs)(h.Zb,{className:"bg-white/50 dark:bg-gray-800/50",children:[(0,s.jsx)(h.Ol,{className:"pb-2",children:(0,s.jsx)(h.ll,{className:"text-lg",children:"Total Items"})}),(0,s.jsx)(h.aY,{children:(0,s.jsx)("div",{className:"text-3xl font-bold",children:g.length})})]}),(0,s.jsxs)(h.Zb,{className:"bg-white/50 dark:bg-gray-800/50",children:[(0,s.jsx)(h.Ol,{className:"pb-2",children:(0,s.jsx)(h.ll,{className:"text-lg",children:"Best Single Platform"})}),(0,s.jsx)(h.aY,{children:V?(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-xl font-bold",children:V}),(0,s.jsx)("div",{className:"text-lg",children:(0,b.xG)(A[V])})]}):(0,s.jsx)("div",{className:"text-muted-foreground",children:"No data available"})})]}),(0,s.jsxs)(h.Zb,{className:"bg-green-50 dark:bg-green-900/20",children:[(0,s.jsx)(h.Ol,{className:"pb-2",children:(0,s.jsxs)(h.ll,{className:"text-lg flex items-center",children:[(0,s.jsx)(o.Z,{className:"mr-2 h-4 w-4 text-green-600"}),"Optimized Shopping"]})}),(0,s.jsxs)(h.aY,{children:[(0,s.jsx)("div",{className:"text-xl font-bold text-green-600",children:(0,b.xG)(D)}),z>0&&(0,s.jsxs)("div",{className:"flex items-center mt-1",children:[(0,s.jsxs)(p.C,{variant:"success",className:"mr-2",children:["Save ",F,"%"]}),(0,s.jsx)("span",{className:"text-sm text-green-600",children:(0,b.xG)(z)})]})]})]})]})})]})}),(0,s.jsx)(i.E.div,{variants:Z,children:(0,s.jsxs)(v,{defaultValue:"optimized",children:[(0,s.jsxs)(N,{className:"grid w-full grid-cols-2",children:[(0,s.jsx)(y,{value:"optimized",children:"Optimized Shopping"}),(0,s.jsx)(y,{value:"comparison",children:"Platform Comparison"})]}),(0,s.jsx)(w,{value:"optimized",className:"mt-4",children:(0,s.jsxs)(h.Zb,{children:[(0,s.jsxs)(h.Ol,{children:[(0,s.jsxs)(h.ll,{className:"flex items-center",children:[(0,s.jsx)(o.Z,{className:"mr-2 h-5 w-5 text-primary"}),"Optimized Shopping Plan"]}),(0,s.jsx)(h.SZ,{children:"Split your shopping across these platforms to save money"})]}),(0,s.jsx)(h.aY,{children:Object.keys(_.platformItems).length>0?(0,s.jsxs)("div",{className:"space-y-6",children:[Object.entries(_.platformItems).map(e=>{var t,r;let[a,i]=e,l=C.find(e=>e.name===a),d=i.reduce((e,t)=>e+t.bestPrice.price*t.quantity,0);return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(p.C,{className:"mr-2",children:a}),(0,s.jsxs)("span",{className:"text-sm text-muted-foreground",children:[i.length," ",1===i.length?"item":"items"]})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("div",{className:"font-medium",children:(0,b.xG)(d)}),l&&(0,s.jsxs)("div",{className:"text-xs text-muted-foreground",children:["+ ",(0,b.xG)(l.deliveryFee)," delivery",l.minOrderValue>0&&(0,s.jsx)("span",{children:d<l.minOrderValue?" (min order: ".concat((0,b.xG)(l.minOrderValue),")"):""})]})]})]}),(0,s.jsxs)(j.iA,{children:[(0,s.jsx)(j.xD,{children:(0,s.jsxs)(j.SC,{children:[(0,s.jsx)(j.ss,{children:"Item"}),(0,s.jsx)(j.ss,{children:"Quantity"}),(0,s.jsx)(j.ss,{children:"Price"}),(0,s.jsx)(j.ss,{className:"text-right",children:"Total"})]})}),(0,s.jsxs)(j.RM,{children:[i.map(e=>(0,s.jsxs)(j.SC,{children:[(0,s.jsx)(j.pj,{className:"font-medium",children:e.name}),(0,s.jsxs)(j.pj,{children:[e.quantity," ",e.unit&&(0,s.jsx)("span",{className:"text-muted-foreground",children:e.unit})]}),(0,s.jsx)(j.pj,{children:(0,b.xG)(e.bestPrice.price)}),(0,s.jsx)(j.pj,{className:"text-right",children:(0,b.xG)(e.bestPrice.price*e.quantity)})]},e.id)),(0,s.jsxs)(j.SC,{children:[(0,s.jsx)(j.pj,{colSpan:3,className:"text-right font-medium",children:"Subtotal"}),(0,s.jsx)(j.pj,{className:"text-right font-medium",children:(0,b.xG)(d)})]}),l&&(0,s.jsxs)(j.SC,{children:[(0,s.jsx)(j.pj,{colSpan:3,className:"text-right font-medium",children:"Delivery Fee"}),(0,s.jsx)(j.pj,{className:"text-right font-medium",children:(0,b.xG)(l.deliveryFee)})]})]})]}),(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsx)(x.z,{asChild:!0,children:(0,s.jsxs)(n.default,{href:(null===(r=i[0])||void 0===r?void 0:null===(t=r.bestPrice)||void 0===t?void 0:t.url)||"#",target:"_blank",rel:"noopener noreferrer",children:[(0,s.jsx)(c.Z,{className:"mr-2 h-4 w-4"}),"Shop on ",a,(0,s.jsx)(m.Z,{className:"ml-2 h-4 w-4"})]})})})]},a)}),(0,s.jsx)(h.Zb,{className:"bg-green-50 dark:bg-green-900/20 border-green-200",children:(0,s.jsx)(h.aY,{className:"pt-6",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-green-700",children:"Total Savings"}),(0,s.jsx)("p",{className:"text-sm text-green-600",children:"Compared to best single platform"})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-green-600",children:(0,b.xG)(z)}),(0,s.jsxs)(p.C,{variant:"success",children:[F,"% cheaper"]})]})]})})})]}):(0,s.jsx)("div",{className:"text-center py-6 text-muted-foreground",children:"No price data available for optimization"})})]})}),(0,s.jsx)(w,{value:"comparison",className:"mt-4",children:(0,s.jsxs)(h.Zb,{children:[(0,s.jsxs)(h.Ol,{children:[(0,s.jsxs)(h.ll,{className:"flex items-center",children:[(0,s.jsx)(c.Z,{className:"mr-2 h-5 w-5 text-primary"}),"Platform Price Comparison"]}),(0,s.jsx)(h.SZ,{children:"Compare prices for each item across all platforms"})]}),(0,s.jsx)(h.aY,{children:(0,s.jsxs)(j.iA,{children:[(0,s.jsx)(j.xD,{children:(0,s.jsxs)(j.SC,{children:[(0,s.jsx)(j.ss,{children:"Item"}),(0,s.jsx)(j.ss,{children:"Quantity"}),C.map(e=>(0,s.jsx)(j.ss,{children:e.name},e.id))]})}),(0,s.jsxs)(j.RM,{children:[g.map(e=>(0,s.jsxs)(j.SC,{children:[(0,s.jsx)(j.pj,{className:"font-medium",children:e.name}),(0,s.jsxs)(j.pj,{children:[e.quantity," ",e.unit&&(0,s.jsx)("span",{className:"text-muted-foreground",children:e.unit})]}),C.map(t=>{let r=e.prices.find(e=>e.platform===t.name);return(0,s.jsx)(j.pj,{children:r?(0,s.jsx)("div",{children:r.available?(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("span",{className:"font-medium",children:(0,b.xG)(r.price)}),r.url&&(0,s.jsxs)(n.default,{href:r.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:underline flex items-center mt-1",children:["View ",(0,s.jsx)(m.Z,{className:"ml-1 h-3 w-3"})]})]}):(0,s.jsx)(p.C,{variant:"outline",className:"text-muted-foreground",children:"Not available"})}):(0,s.jsx)("span",{className:"text-muted-foreground",children:"-"})},t.id)})]},e.id)),(0,s.jsxs)(j.SC,{className:"bg-muted/50",children:[(0,s.jsx)(j.pj,{colSpan:2,className:"font-bold",children:"Platform Totals"}),C.map(e=>(0,s.jsx)(j.pj,{className:"font-bold",children:A[e.name]>0?(0,b.xG)(A[e.name]):(0,s.jsx)("span",{className:"text-muted-foreground",children:"-"})},e.id))]}),(0,s.jsxs)(j.SC,{children:[(0,s.jsx)(j.pj,{colSpan:2,className:"font-medium text-muted-foreground",children:"Items Available"}),C.map(e=>{let t=g.filter(t=>t.prices.some(t=>t.platform===e.name&&t.available)).length;return(0,s.jsx)(j.pj,{children:t>0?(0,s.jsxs)(p.C,{variant:t===g.length?"success":"warning",children:[t,"/",g.length]}):(0,s.jsxs)(p.C,{variant:"outline",className:"text-muted-foreground",children:["0/",g.length]})},e.id)})]}),(0,s.jsxs)(j.SC,{children:[(0,s.jsx)(j.pj,{colSpan:2,className:"font-medium text-muted-foreground",children:"Delivery Fee"}),C.map(e=>(0,s.jsx)(j.pj,{children:(0,b.xG)(e.deliveryFee)},e.id))]}),(0,s.jsxs)(j.SC,{children:[(0,s.jsx)(j.pj,{colSpan:2,className:"font-medium text-muted-foreground",children:"Min Order Value"}),C.map(e=>(0,s.jsx)(j.pj,{children:e.minOrderValue>0?(0,b.xG)(e.minOrderValue):(0,s.jsx)("span",{className:"text-muted-foreground",children:"None"})},e.id))]})]})]})}),(0,s.jsxs)(h.eW,{className:"flex justify-between",children:[(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"* Prices include delivery fees where applicable"}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("span",{className:"mr-2 text-sm font-medium",children:"Best Value:"}),(0,s.jsxs)(p.C,{variant:"success",className:"flex items-center",children:["Optimized Shopping",(0,s.jsx)(u.Z,{className:"ml-1 h-3 w-3"})]})]})]})]})})]})})]})}w.displayName=g.VY.displayName},1789:function(e,t,r){"use strict";r.d(t,{C:function(){return l}});var s=r(784);r(1960);var a=r(664),n=r(5518);let i=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500 text-white hover:bg-green-600",warning:"border-transparent bg-yellow-500 text-white hover:bg-yellow-600",info:"border-transparent bg-blue-500 text-white hover:bg-blue-600"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:r,...a}=e;return(0,s.jsx)("div",{className:(0,n.cn)(i({variant:r}),t),...a})}},5796:function(e,t,r){"use strict";r.d(t,{z:function(){return d}});var s=r(784),a=r(1960),n=r(2310),i=r(664),l=r(5518);let c=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",success:"bg-green-600 text-white hover:bg-green-700"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,t)=>{let{className:r,variant:a,size:i,asChild:d=!1,...o}=e,m=d?n.g7:"button";return(0,s.jsx)(m,{className:(0,l.cn)(c({variant:a,size:i,className:r})),ref:t,...o})});d.displayName="Button"},9026:function(e,t,r){"use strict";r.d(t,{Ol:function(){return l},SZ:function(){return d},Zb:function(){return i},aY:function(){return o},eW:function(){return m},ll:function(){return c}});var s=r(784),a=r(1960),n=r(5518);let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm transition-all hover:shadow-md",r),...a})});i.displayName="Card";let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...a})});l.displayName="CardHeader";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});c.displayName="CardTitle";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...a})});d.displayName="CardDescription";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...a})});o.displayName="CardContent";let m=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...a})});m.displayName="CardFooter"},4428:function(e,t,r){"use strict";r.d(t,{RM:function(){return c},SC:function(){return d},iA:function(){return i},pj:function(){return m},ss:function(){return o},xD:function(){return l}});var s=r(784),a=r(1960),n=r(5518);let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:t,className:(0,n.cn)("w-full caption-bottom text-sm",r),...a})})});i.displayName="Table";let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("thead",{ref:t,className:(0,n.cn)("[&_tr]:border-b",r),...a})});l.displayName="TableHeader";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("tbody",{ref:t,className:(0,n.cn)("[&_tr:last-child]:border-0",r),...a})});c.displayName="TableBody",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("tfoot",{ref:t,className:(0,n.cn)("bg-primary font-medium text-primary-foreground",r),...a})}).displayName="TableFooter";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("tr",{ref:t,className:(0,n.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...a})});d.displayName="TableRow";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("th",{ref:t,className:(0,n.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",r),...a})});o.displayName="TableHead";let m=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("td",{ref:t,className:(0,n.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",r),...a})});m.displayName="TableCell",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("caption",{ref:t,className:(0,n.cn)("mt-4 text-sm text-muted-foreground",r),...a})}).displayName="TableCaption"},395:function(e,t,r){"use strict";r.d(t,{pm:function(){return u}});var s=r(1960);let a=0,n=new Map,i=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),o({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},l=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,5)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?i(r):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},c=[],d={toasts:[]};function o(e){d=l(d,e),c.forEach(e=>{e(d)})}function m(e){let{...t}=e,r=(a=(a+1)%Number.MAX_VALUE).toString(),s=()=>o({type:"DISMISS_TOAST",toastId:r});return o({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||s()}}}),{id:r,dismiss:s,update:e=>o({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function u(){let[e,t]=s.useState(d);return s.useEffect(()=>(c.push(t),()=>{let e=c.indexOf(t);e>-1&&c.splice(e,1)}),[e]),{...e,toast:m,dismiss:e=>o({type:"DISMISS_TOAST",toastId:e})}}},5518:function(e,t,r){"use strict";r.d(t,{cn:function(){return n},np:function(){return l},xG:function(){return i}});var s=r(3201),a=r(3298);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m6)((0,s.W)(t))}function i(e){return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:2}).format(e)}function l(e){let t={platformItems:{},savings:0,totalCost:0,originalCost:0};if(!e||0===e.length)return t;let r=new Set,s=0;return e.forEach(e=>{if(!e.prices||0===e.prices.length)return;let s=e.prices.filter(e=>e.available);if(0===s.length)return;s.forEach(e=>r.add(e.platform));let a=s.reduce((e,t)=>t.price<e.price?t:e,s[0]);t.totalCost+=a.price*e.quantity}),Array.from(r).forEach(t=>{let r=0,a=0;e.forEach(e=>{var s;let n=null===(s=e.prices)||void 0===s?void 0:s.find(e=>e.platform===t&&e.available);n&&(r+=n.price*e.quantity,a++)}),a===e.filter(e=>e.prices&&e.prices.length>0).length&&(0===s||r<s)&&(s=r)}),t.originalCost=s>0?s:t.totalCost,t.savings=Math.max(0,t.originalCost-t.totalCost),e.forEach(e=>{if(!e.prices||0===e.prices.length)return;let r=e.prices.filter(e=>e.available);if(0===r.length)return;let s=r.reduce((e,t)=>t.price<e.price?t:e,r[0]),a=s.platform;t.platformItems[a]||(t.platformItems[a]=[]),t.platformItems[a].push({...e,bestPrice:s})}),t}}},function(e){e.O(0,[813,965,440,427,275,744],function(){return e(e.s=5865)}),_N_E=e.O()}]);