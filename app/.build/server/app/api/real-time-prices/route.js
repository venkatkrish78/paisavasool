"use strict";(()=>{var e={};e.id=153,e.ids=[153],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},17:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>g,patchFetch:()=>f,requestAsyncStorage:()=>u,routeModule:()=>l,serverHooks:()=>h,staticGenerationAsyncStorage:()=>d});var o={};t.r(o),t.d(o,{GET:()=>m,dynamic:()=>p});var a=t(921),i=t(7380),n=t(4185),s=t(3878);let p="force-dynamic";async function c(e){console.log(`Fetching real-time prices for: ${e}`);let r=e.toLowerCase().trim(),t=0;for(let e=0;e<r.length;e++)t+=r.charCodeAt(e);let o=.1*Math.random(),a=[{platform:"Amazon",price:Math.round((t=t%450+50)*(.95+o)*100)/100,available:Math.random()>.05,url:`https://www.amazon.in/s?k=${encodeURIComponent(e)}`,productName:`${e} - Amazon Fresh`,imageUrl:"https://m.media-amazon.com/images/G/31/AmazonFresh/2023/November/Pantry_Store_Refresh/AF_Pantry_Logo._CB574597993_.png"},{platform:"BigBasket",price:Math.round(t*(.9+o)*100)/100,available:Math.random()>.1,url:`https://www.bigbasket.com/ps/?q=${encodeURIComponent(e)}`,productName:`${e} - BigBasket`,imageUrl:"https://www.bigbasket.com/media/uploads/banner_images/hp_bbstar_m_250323_01.png"},{platform:"Blinkit",price:Math.round(t*(1.05+o)*100)/100,available:Math.random()>.15,url:`https://blinkit.com/s/?q=${encodeURIComponent(e)}`,productName:`${e} - Blinkit`,imageUrl:"https://cdn.zeptonow.com/web-static-assets-prod/artifacts/6.22.0/images/pdp/cross-platform-sharing/zeptoLogo.png"},{platform:"JioMart",price:Math.round(t*(.85+o)*100)/100,available:Math.random()>.1,url:`https://www.jiomart.com/search/${encodeURIComponent(e)}`,productName:`${e} - JioMart`,imageUrl:"https://www.jiomart.com/assets/ds2web/jds-icons/jiomart-logo-icon.svg"}],i=new Set;return a.forEach(e=>{for(;i.has(e.price);)e.price=Math.round(e.price*(1+(.05*Math.random()-.025))*100)/100;i.add(e.price)}),console.log(`Generated prices for ${e}:`,a.map(e=>`${e.platform}: â‚¹${e.price}`).join(", ")),await new Promise(e=>setTimeout(e,300)),a}async function m(e){try{let{searchParams:r}=new URL(e.url),t=r.get("item");if(!t)return console.error("Item name is required but was not provided"),s.NextResponse.json({error:"Item name is required"},{status:400});let o=await c(t);if(!Array.isArray(o)||0===o.length)return console.error("Failed to generate prices for item:",t),s.NextResponse.json({error:"Failed to fetch prices"},{status:500});return console.log(`Successfully fetched prices for ${t} from ${o.length} platforms`),s.NextResponse.json(o)}catch(e){return console.error("Error fetching real-time prices:",e),s.NextResponse.json({error:"Failed to fetch real-time prices"},{status:500})}}let l=new a.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/real-time-prices/route",pathname:"/api/real-time-prices",filename:"route",bundlePath:"app/api/real-time-prices/route"},resolvedPagePath:"/home/ubuntu/grocery_price_comparison/app/app/api/real-time-prices/route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:u,staticGenerationAsyncStorage:d,serverHooks:h}=l,g="/api/real-time-prices/route";function f(){return(0,n.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:d})}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),o=r.X(0,[923,146],()=>t(17));module.exports=o})();