"use strict";(()=>{var e={};e.id=913,e.ids=[913],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3948:(e,o,t)=>{t.r(o),t.d(o,{originalPathname:()=>h,patchFetch:()=>y,requestAsyncStorage:()=>c,routeModule:()=>u,serverHooks:()=>g,staticGenerationAsyncStorage:()=>f});var a={};t.r(a),t.d(a,{GET:()=>d,dynamic:()=>p});var r=t(921),n=t(7380),i=t(4185),s=t(3878),l=t(9382);let p="force-dynamic",m=[{name:"Amazon",logoUrl:"https://m.media-amazon.com/images/G/31/AmazonFresh/2023/November/Pantry_Store_Refresh/AF_Pantry_Logo._CB574597993_.png",deliveryFee:40,minOrderValue:199,deliveryTime:"2-3 hours"},{name:"BigBasket",logoUrl:"https://www.bigbasket.com/media/uploads/banner_images/hp_bbstar_m_250323_01.png",deliveryFee:30,minOrderValue:150,deliveryTime:"1-2 hours"},{name:"Blinkit",logoUrl:"https://cdn.zeptonow.com/web-static-assets-prod/artifacts/6.22.0/images/pdp/cross-platform-sharing/zeptoLogo.png",deliveryFee:20,minOrderValue:99,deliveryTime:"10-15 mins"},{name:"JioMart",logoUrl:"https://www.jiomart.com/assets/ds2web/jds-icons/jiomart-logo-icon.svg",deliveryFee:35,minOrderValue:250,deliveryTime:"2-4 hours"}];async function d(){try{console.log("Fetching platform information");let e=await l._.platformInfo.findMany();if(0===e.length)console.log("No platforms found, creating default platforms"),await l._.platformInfo.createMany({data:m,skipDuplicates:!0});else if(e.length<m.length)console.log(`Found only ${e.length} platforms, updating to include all 4 platforms`),await l._.platformInfo.deleteMany({}),await l._.platformInfo.createMany({data:m});else for(let e of(console.log("Updating existing platform information"),m))await l._.platformInfo.updateMany({where:{name:e.name},data:e});let o=await l._.platformInfo.findMany({orderBy:{name:"asc"}});return console.log(`Found ${o.length} platforms`),s.NextResponse.json(o)}catch(e){return console.error("Error fetching platforms:",e),s.NextResponse.json({error:"Failed to fetch platforms"},{status:500})}}let u=new r.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/platforms/route",pathname:"/api/platforms",filename:"route",bundlePath:"app/api/platforms/route"},resolvedPagePath:"/home/ubuntu/grocery_price_comparison/app/app/api/platforms/route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:c,staticGenerationAsyncStorage:f,serverHooks:g}=u,h="/api/platforms/route";function y(){return(0,i.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:f})}},9382:(e,o,t)=>{t.d(o,{_:()=>r});let a=require("@prisma/client"),r=global.prisma||new a.PrismaClient({log:["query"]})}};var o=require("../../../webpack-runtime.js");o.C(e);var t=e=>o(o.s=e),a=o.X(0,[923,146],()=>t(3948));module.exports=a})();